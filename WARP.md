# WARP.md

This file provides guidance to WARP (warp.dev) when working with code in this repository.

## Project Overview

**SmartResumeScanner** is an intelligent resume parsing and screening service that extracts structured data from resumes and computes semantic fit scores against job descriptions using LLMs.

**Core Functionality:**
- Parse PDF/text resumes and extract: skills, experience, education, contact info
- Semantically match resumes to job descriptions via LLM
- Output 1–10 fit score with concise justification
- Rank candidates by score

## Architecture

### Backend Options (not yet chosen)
Language/framework will be one of:
- **Python**: FastAPI + Pydantic + Uvicorn (PDF: pdfminer.six/pypdf, NLP: spaCy optional)
- **Node.js**: Fastify/Express + TypeScript (PDF: pdf-parse/pdfjs, NER via heuristics)
- **Java**: Spring Boot + Apache Tika

See `PROJECT_METADATA.md` for decisions as they're made.

### Planned API Endpoints
- `POST /api/parse-resume` — upload resume; returns extracted fields
- `POST /api/score` — resume text + job description → score + justification
- `POST /api/screen` — bulk candidates + JD → ranked list
- `GET /api/candidates/:id` — retrieve parsed data and latest score

### Data Model
- **Candidate**: id, name, email, phone, resume_file_uri, resume_text, skills[], experience[], education[]
- **JobDescription**: id, title, description_text, required_skills[]
- **Score**: id, candidate_id, job_id, score (0–10), justification, created_at

### Infrastructure
- **Database**: Postgres/SQLite for parsed entities and scores
- **Storage** (optional): Object storage for raw resume files
- **Workers/Queue** (optional): Batch parsing jobs
- **LLM Provider**: Pluggable (OpenAI/Azure/local open-source)

## LLM Usage

The LLM performs semantic matching and justification. Standard flow:
1. Extract key attributes from resume text (skills, roles, tenure, domains)
2. Extract key attributes from JD (required skills, seniority, must-haves)
3. Compute score 1–10 with reasoning
4. Return structured JSON

### Prompt Template (from docs/prompts.md)

**System:**
```text path=null start=null
You are an expert technical recruiter. Be concise and factual. Avoid hallucinations. If data is missing, explicitly say so.
```

**User:**
```text path=null start=null
Compare the following resume with this job description and rate the fit on a 1–10 scale. Provide a JSON response with:
- score: number (1–10)
- justification: brief string (<= 280 chars)
- matched_skills: string[]
- missing_skills: string[]
- risks: string[]

Resume:
{{RESUME_TEXT}}

Job Description:
{{JOB_DESCRIPTION}}
```

**Expected JSON Output:**
```json path=null start=null
{
  "score": 7.5,
  "justification": "Solid backend experience with Node and Python; limited exposure to NLP pipelines and AWS Glue.",
  "matched_skills": ["node.js", "python", "rest apis"],
  "missing_skills": ["langchain", "aws glue"],
  "risks": ["short tenure in last role"]
}
```

Reference `docs/prompts.md` for additional extraction prompts.

## Project Structure

- **src/**: TypeScript source code
  - `index.ts` - Express server entry point
  - `routes/api.ts` - API endpoint handlers
  - `services/geminiService.ts` - Gemini AI integration
  - `utils/pdfParser.ts` - PDF text extraction
  - `models/types.ts` - TypeScript interfaces
- **public/**: Frontend static files (HTML/CSS/JS)
- **tests/**: Jest test suite
- **docs/**: Documentation and prompt templates
- **dist/**: Compiled JavaScript (generated by TypeScript)

## Development Commands

**Note:** Build, lint, and test commands will be added once the language/framework is chosen. Update this section when:
- Dependencies are installed (e.g., `requirements.txt`, `package.json`, `pom.xml`)
- Test framework is configured (pytest, Jest, JUnit, etc.)
- Linters/formatters are set up (Ruff/Black, ESLint/Prettier, Checkstyle, etc.)

Once implemented, include commands for:
- Installing dependencies
- Running the API server locally
- Running all tests
- Running a single test file or test case
- Linting and formatting code
- Building for production (if applicable)

## Roadmap

- **MVP**: File upload, parsing to text, heuristic skill extraction, LLM scoring, basic API
- **V1**: Persistence, bulk screening, retry/queue, prompt library, monitoring
- **Optional**: Dashboard for search/sort/filter, candidate profiles
